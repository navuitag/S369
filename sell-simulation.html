<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hệ Thống Giao Dịch 369 - Mô Phỏng Thực Chiến</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-neutral: #fdfbf7;
            --accent-gold: #d97706;
            --accent-blue: #2563eb;
            --accent-green: #059669;
            --text-main: #1f2937;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-neutral);
            color: var(--text-main);
        }

        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            border-bottom: 1px solid rgba(229, 231, 235, 0.5);
        }

        .nav-link {
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            color: #d97706;
            text-shadow: 0 0 10px rgba(217, 119, 6, 0.3);
        }
        h1, h2, h3, .font-heading {
            font-family: 'Space Grotesk', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
            }
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(229, 231, 235, 0.5);
        }
        .input-focus:focus {
            outline: none;
            border-color: var(--accent-gold);
            box-shadow: 0 0 0 3px rgba(217, 119, 6, 0.1);
        }
        .step-active {
            border-left: 4px solid var(--accent-gold);
            background: rgba(217, 119, 6, 0.05);
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- NAVIGATION -->
    <nav class="navbar">
        <div class="mx-auto flex max-w-7xl items-center justify-between px-4 py-4 md:px-6">
            <div class="flex items-center space-x-2">
                <span class="text-2xl font-bold tracking-tighter text-amber-700 font-heading">369 Matrix</span>
            </div>
            <div class="hidden space-x-8 md:flex text-sm font-medium text-stone-600">
                <a href="home.html" class="nav-link hover:text-amber-700">Trang Chủ</a>
                <a href="buy-simulation.html" class="nav-link hover:text-amber-700">Mô Phỏng BUY</a>
                <a href="sell-simulation.html" class="nav-link text-amber-700 font-bold">Mô Phỏng SELL</a>
                <a href="trading-guide.html" class="nav-link hover:text-amber-700">Cẩm Nang</a>
                <a href="case-study.html" class="nav-link hover:text-amber-700">Case Study</a>
                <a href="s369-document.html" class="nav-link hover:text-amber-700">Tài Liệu S369</a>
            </div>
            <button class="md:hidden rounded-full bg-amber-700 px-5 py-2 text-sm font-semibold text-white hover:bg-amber-800 transition-all">
                <button onclick="toggleMobileMenu()" class="text-amber-700">
                    <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </button>
        </div>
        <!-- Mobile menu -->
        <div id="mobile-menu" class="md:hidden hidden bg-white border-t border-stone-200">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="home.html" class="nav-link hover:text-amber-700 block px-3 py-2 rounded-md text-base">Trang Chủ</a>
                <a href="buy-simulation.html" class="nav-link hover:text-amber-700 block px-3 py-2 rounded-md text-base">Mô Phỏng BUY</a>
                <a href="sell-simulation.html" class="nav-link text-amber-700 font-bold block px-3 py-2 rounded-md text-base">Mô Phỏng SELL</a>
                <a href="trading-guide.html" class="nav-link hover:text-amber-700 block px-3 py-2 rounded-md text-base">Cẩm Nang</a>
                <a href="case-study.html" class="nav-link hover:text-amber-700 block px-3 py-2 rounded-md text-base">Case Study</a>
                <a href="s369-document.html" class="nav-link hover:text-amber-700 block px-3 py-2 rounded-md text-base">Tài Liệu S369</a>
            </div>
        </div>
    </nav>

    <!-- Main content với padding-top -->
    <div class="pt-20">

    <main class="mx-auto max-w-7xl px-4 py-8 md:px-6">
        
        <header id="overview" class="mb-16 text-center">
            <h1 class="mb-4 text-4xl font-bold tracking-tight text-stone-900 md:text-6xl font-heading">
                Giải Mã Bản Đồ <span class="text-amber-700">Số Học Tesla</span>
            </h1>
            <p class="mx-auto max-w-2xl text-lg text-stone-600">
                Hệ thống giao dịch 369 không chỉ là phương pháp kỹ thuật, đó là cách giá Vàng (XAUUSD) di chuyển qua các nấc thang năng lượng. Hiểu được "Biên 6", bạn sẽ hiểu được thị trường.
            </p>
        </header>

        <section class="mb-16 grid grid-cols-1 gap-6 md:grid-cols-3">
            <div class="glass-card rounded-2xl p-8 shadow-sm transition-all hover:shadow-md">
                <div class="mb-4 text-3xl text-amber-600">&#10024;</div>
                <h3 class="mb-2 text-xl font-bold font-heading">Số 6 Quyền Năng</h3>
                <p class="text-sm leading-relaxed text-stone-500">
                    Cản luôn là 6. Phá 6 sẽ tìm lên 6 tiếp theo. Mốc .6 là ranh giới giữa sự tiếp diễn và đảo chiều xu hướng.
                </p>
            </div>
            <div class="glass-card rounded-2xl p-8 shadow-sm transition-all hover:shadow-md border-t-4 border-blue-500">
                <div class="mb-4 text-3xl text-blue-600">&#10145;</div>
                <h3 class="mb-2 text-xl font-bold font-heading">Vùng Xác Nhận .9</h3>
                <p class="text-sm leading-relaxed text-stone-500">
                    Nơi an toàn nhất để tìm điểm vào lệnh sau khi mốc 6 đã được xác lập vững chắc. 09, 19, 49 là các trạm dừng chân.
                </p>
            </div>
            <div class="glass-card rounded-2xl p-8 shadow-sm transition-all hover:shadow-md">
                <div class="mb-4 text-3xl text-green-600">&#10004;</div>
                <h3 class="mb-2 text-xl font-bold font-heading">Quy Tắc 3.3</h3>
                <p class="text-sm leading-relaxed text-stone-500">
                    Dừng lỗ tuyệt đối không quá 3.3 giá. Đây là khoảng cách an toàn toán học để bảo vệ kho báu của bạn.
                </p>
            </div>
        </section>

        <section id="simulator" class="mb-16 rounded-3xl bg-white p-6 shadow-xl ring-1 ring-stone-200 md:p-12">
            <div class="mb-12 flex flex-col items-start justify-between border-b border-stone-100 pb-8 md:flex-row md:items-center">
                <div class="mb-6 md:mb-0">
                    <h2 class="text-3xl font-bold font-heading text-stone-900">Bộ Lập Kế Hoạch 369</h2>
                    <p class="text-stone-500">Nhập điểm Entry để tự động hóa ma trận giao dịch của bạn.</p>
                </div>
                <div class="flex w-full flex-col space-y-4 md:w-auto md:flex-row md:space-x-4 md:space-y-0">
                    <div class="relative">
                        <label class="absolute -top-2 left-3 bg-white px-1 text-xs font-bold text-amber-700">GIÁ ENTRY</label>
                        <input id="entryPrice" type="number" step="0.1" value="2646.0" class="w-full rounded-xl border border-stone-300 px-4 py-3 text-lg font-bold input-focus md:w-48">
                    </div>
                    <select id="tradeDirection" class="rounded-xl border border-stone-300 px-4 py-3 font-semibold input-focus">
                        <option value="buy">Vị thế BUY</option>
                        <option value="sell">Vị thế SELL</option>
                    </select>
                </div>
            </div>

            <div class="grid grid-cols-1 gap-12 lg:grid-cols-2">
                <div class="flex flex-col">
                    <div class="grid grid-cols-2 gap-4 mb-8">
                        <div class="rounded-2xl bg-stone-50 p-6">
                            <span class="text-xs font-bold uppercase tracking-wider text-stone-400">Stop Loss (SL)</span>
                            <div id="slDisplay" class="text-3xl font-bold text-red-600 font-mono">2642.7</div>
                        </div>
                        <div class="rounded-2xl bg-stone-50 p-6">
                            <span class="text-xs font-bold uppercase tracking-wider text-stone-400">Take Profit (TP)</span>
                            <div id="tpDisplay" class="text-3xl font-bold text-emerald-600 font-mono">2658.0</div>
                        </div>
                    </div>
                    <div class="flex-grow space-y-4">
                        <h4 class="text-sm font-bold text-stone-400 uppercase tracking-widest mb-4">Lộ trình mục tiêu</h4>
                        <div id="targetList" class="space-y-3">
                            <!-- JS populated -->
                        </div>
                    </div>
                </div>

                <div class="flex flex-col">
                    <div class="mb-4 flex items-center justify-between">
                        <h4 class="text-sm font-bold text-stone-400 uppercase tracking-widest">Ma trận nấc thang</h4>
                        <span class="rounded bg-amber-100 px-2 py-1 text-[10px] font-bold text-amber-700">REAL-TIME CALC</span>
                    </div>
                    <div class="chart-container">
                        <canvas id="planChart"></canvas>
                    </div>
                    <p class="mt-4 text-xs italic text-stone-400 text-center">Biểu đồ thể hiện các mốc biên 6 và điểm xoáy 9 tương ứng với Entry.</p>
                </div>
            </div>
        </section>

        <section id="case-study" class="mb-16">
            <div class="mb-8 text-center">
                <h2 class="text-3xl font-bold font-heading text-stone-900">Chiến Lược Thực Chiến</h2>
                <p class="text-stone-500">Mô phỏng lại lệnh 2646 $\rightarrow$ 2686 kinh điển.</p>
            </div>
            <div class="grid grid-cols-1 gap-8 md:grid-cols-2">
                <div class="rounded-2xl bg-stone-900 p-8 text-white shadow-2xl">
                    <h3 class="mb-6 text-xl font-bold font-heading text-amber-400">Kỹ thuật "Điểm Xoáy"</h3>
                    <p class="mb-6 text-stone-400 leading-relaxed">
                        Điểm xoáy xảy ra khi giá từ mốc 16 rớt về 09 sau đó bật mạnh phá lại 16. Lúc này, mốc 09 chính là "điểm xoáy" hỗ trợ cực mạnh.
                    </p>
                    <div class="space-y-4">
                        <div class="flex items-center space-x-4">
                            <div class="flex h-10 w-10 items-center justify-center rounded-full bg-amber-700 font-bold">1</div>
                            <span class="text-sm">Chờ giá chạm mốc Biên 16</span>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="flex h-10 w-10 items-center justify-center rounded-full bg-amber-700 font-bold">2</div>
                            <span class="text-sm">Xác nhận rút râu tại điểm 09 (Điểm xác nhận)</span>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="flex h-10 w-10 items-center justify-center rounded-full bg-amber-700 font-bold">3</div>
                            <span class="text-sm">Vào lệnh khi giá quay lại phá mốc 16</span>
                        </div>
                    </div>
                </div>
                <div class="rounded-2xl bg-white p-8 shadow-sm ring-1 ring-stone-200">
                    <h3 class="mb-6 text-xl font-bold font-heading">Checklist 5 Bước</h3>
                    <div id="checklist" class="space-y-4">
                        <div class="flex items-start space-x-3">
                            <input type="checkbox" class="mt-1 h-5 w-5 rounded border-stone-300 text-amber-600 focus:ring-amber-500">
                            <div>
                                <label class="text-sm font-semibold">Kiểm tra Timing (19h30 - 21h00)</label>
                                <p class="text-xs text-stone-400">Phiên Mỹ là lúc các mốc 369 nhạy nhất.</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <input type="checkbox" class="mt-1 h-5 w-5 rounded border-stone-300 text-amber-600 focus:ring-amber-500">
                            <div>
                                <label class="text-sm font-semibold">Xác định Biên 6 gần nhất</label>
                                <p class="text-xs text-stone-400">Giá đóng nến M5 trên hay dưới biên?</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <input type="checkbox" class="mt-1 h-5 w-5 rounded border-stone-300 text-amber-600 focus:ring-amber-500">
                            <div>
                                <label class="text-sm font-semibold">Thắt dây an toàn SL 3.3</label>
                                <p class="text-xs text-stone-400">Tuyệt đối không gồng quá 3.3 giá.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="border-t border-stone-200 bg-stone-50 py-12">
        <div class="mx-auto max-w-7xl px-4 md:px-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
                <div>
                    <h3 class="text-stone-900 font-bold mb-4">Hệ Thống 369</h3>
                    <p class="text-stone-500 text-sm">Phương pháp giao dịch vàng dựa trên toán học Tesla</p>
                </div>
                <div>
                    <h3 class="text-stone-900 font-bold mb-4">Trang Chính</h3>
                    <div class="space-y-2">
                        <a href="home.html" class="block text-stone-500 hover:text-amber-700 text-sm">Trang Chủ</a>
                        <a href="buy-simulation.html" class="block text-stone-500 hover:text-amber-700 text-sm">Mô Phỏng BUY</a>
                        <a href="sell-simulation.html" class="block text-amber-700 font-bold text-sm">Mô Phỏng SELL</a>
                    </div>
                </div>
                <div>
                    <h3 class="text-stone-900 font-bold mb-4">Tài Nguyên</h3>
                    <div class="space-y-2">
                        <a href="trading-guide.html" class="block text-stone-500 hover:text-amber-700 text-sm">Cẩm Nang</a>
                        <a href="case-study.html" class="block text-stone-500 hover:text-amber-700 text-sm">Case Study</a>
                    </div>
                </div>
            </div>
            <p class="text-sm font-medium text-stone-500 text-center">&copy; 2025 Hệ Thống Giao Dịch 369. Toàn bộ logic dựa trên phương pháp của Vũ Quang Bình.</p>
            <p class="mt-2 text-xs text-stone-400 text-center">Nội dung này chỉ mang tính chất tham khảo học thuật. Giao dịch tài chính luôn đi kèm rủi ro.</p>
        </div>
    </footer>

    </div> <!-- Đóng div pt-20 -->

    <script>
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
        
        const state = {
            entry: 2646.0,
            direction: 'buy',
            chart: null
        };

        const elements = {
            entryInput: document.getElementById('entryPrice'),
            directionSelect: document.getElementById('tradeDirection'),
            slDisplay: document.getElementById('slDisplay'),
            tpDisplay: document.getElementById('tpDisplay'),
            targetList: document.getElementById('targetList'),
            canvas: document.getElementById('planChart')
        };

        function wrapLabel(label) {
            if (typeof label !== 'string') return label;
            if (label.length <= 16) return label;
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            words.forEach(word => {
                if ((currentLine + word).length > 16) {
                    lines.push(currentLine.trim());
                    currentLine = word + ' ';
                } else {
                    currentLine += word + ' ';
                }
            });
            lines.push(currentLine.trim());
            return lines;
        }

        function calculatePlan() {
            const entry = parseFloat(elements.entryInput.value);
            const dir = elements.directionSelect.value;
            const base = Math.floor(entry / 10) * 10;
            
            const sl = dir === 'buy' ? entry - 3.3 : entry + 3.3;
            const tp = dir === 'buy' ? entry + 12.0 : entry - 12.0;

            elements.slDisplay.textContent = sl.toFixed(1);
            elements.tpDisplay.textContent = tp.toFixed(1);

            // Targets
            const targets = dir === 'buy' 
                ? [entry + 3.3, entry + 6.0, entry + 10.0, entry + 12.0]
                : [entry - 3.3, entry - 6.0, entry - 10.0, entry - 12.0];
            
            const labels = ["Rủi ro tối đa", "Biên xác nhận", "Mục tiêu tầng 1", "Đích đến chu kỳ"];
            
            elements.targetList.innerHTML = targets.map((t, i) => `
                <div class="flex items-center justify-between rounded-xl border border-stone-100 bg-white p-4 transition-all hover:bg-stone-50">
                    <div class="flex items-center space-x-3">
                        <div class="h-2 w-2 rounded-full ${i === 0 ? 'bg-red-400' : 'bg-amber-400'}"></div>
                        <span class="text-sm font-medium text-stone-600">${labels[i]}</span>
                    </div>
                    <span class="font-mono font-bold text-stone-900">${t.toFixed(1)}</span>
                </div>
            `).join('');

            updateChart(entry, targets, labels);
        }

        function updateChart(entry, targets, labels) {
            const ctx = elements.canvas.getContext('2d');
            
            const wrappedLabels = labels.map(l => wrapLabel(l));
            
            const data = {
                labels: wrappedLabels,
                datasets: [{
                    label: 'Giá trị mục tiêu',
                    data: targets,
                    backgroundColor: [
                        'rgba(239, 68, 68, 0.8)',
                        'rgba(217, 119, 6, 0.8)',
                        'rgba(37, 99, 235, 0.8)',
                        'rgba(5, 150, 105, 0.8)'
                    ],
                    borderRadius: 8,
                    barThickness: 30
                }]
            };

            const config = {
                type: 'bar',
                data: data,
                options: {
                    maintainAspectRatio: false,
                    responsive: true,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                title: function(tooltipItems) {
                                    const item = tooltipItems[0];
                                    let label = item.chart.data.labels[item.dataIndex];
                                    if (Array.isArray(label)) {
                                        return label.join(' ');
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            grid: { color: '#f1f1f1' },
                            ticks: { font: { family: 'monospace' } }
                        },
                        x: {
                            grid: { display: false },
                            ticks: { 
                                font: { size: 10 },
                                autoSkip: false
                            }
                        }
                    }
                }
            };

            if (state.chart) {
                state.chart.destroy();
            }
            state.chart = new Chart(ctx, config);
        }

        elements.entryInput.addEventListener('input', calculatePlan);
        elements.directionSelect.addEventListener('change', calculatePlan);

        window.onload = calculatePlan;

    </script>
</body>
</html>